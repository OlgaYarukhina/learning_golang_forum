{{template "base" .}}

{{define "title"}}Home Page{{ end }}

{{define "main"}}
<h2>Latest Posts</h2>
<table>
  <tr>
    <th>Title</th>
    <th>Posted at</th>
    <th>ID</th>
    <th>Category</th>
    <th>Like</th>
    <label for="categories">Choose a category:</label>
    <form id="filter-form">
        <select onchange="this.form.submit()" name="categories" id="categories">
          <option value=""></option>
          {{
            range.Categories
          }}
          <option value="{{.ID}}">{{.Name}}</option>
          {{
            end
          }}
        </select>
    </form>
  </tr>
  {{
    range.Posts
  }}
  <tr>
    <td>
      <a href="/post?id={{.ID}}">{{.Header}}</a>
    </td>
    <td>{{.Created_at}}</td>
    <td>#{{.ID}}</td>
    <td>#{{.Category_id}}</td>
    <td>#{{.Like}}</td>
  </tr>
  {{
    end
  }}
</table>

{{ end }}
